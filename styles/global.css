body,
body[data-theme="light"] {
    --font-body: "IBM Plex Sans", "Segoe UI", sans-serif;
    --font-display: "Space Grotesk", "IBM Plex Sans", sans-serif;
    --font-mono: "IBM Plex Mono", "SFMono-Regular", Consolas, "Liberation Mono", monospace;
    --color-primary: #1c5f7a;
    --color-text-primary: #0f1720;
    --color-text-secondary: #144b63;
    --color-text-deemphasized: #4b5565;
    --color-link: #2a4db8;
    --color-link-deemphasized: #4f66b3;
    --color-bg-primary: #eef1f6;
    --color-bg-toggle: #1c5f7a;
    --color-bg-thumb: #ffffff;
    --color-border: #c9d3e1;
    --color-placeholder-bg-start: #e9eef7;
    --color-placeholder-bg-end: #dde5f1;
    --color-surface: #f7f9fc;
    --color-surface-2: #e7ecf4;
    --color-bg-glow-1: rgba(72, 182, 210, 0.22);
    --color-bg-glow-2: rgba(108, 120, 200, 0.14);
    --color-selection-bg: #1c5f7a;
    --color-selection-text: #f7f9fc;
    --color-grid: rgba(28, 95, 122, 0.045);
    --color-grid-strong: rgba(28, 95, 122, 0.07);
    --color-hex-highlight: rgba(28, 95, 122, 0.16);
    --color-glow: rgba(28, 95, 122, 0.35);
    --color-glow-shadow: rgba(28, 95, 122, 0.25);
}

body[data-theme="dark"] {
    --font-body: "IBM Plex Sans", "Segoe UI", sans-serif;
    --font-display: "Space Grotesk", "IBM Plex Sans", sans-serif;
    --font-mono: "IBM Plex Mono", "SFMono-Regular", Consolas, "Liberation Mono", monospace;
    --color-primary: #7cc9e4;
    --color-text-primary: #e7edf7;
    --color-text-secondary: #7cc9e4;
    --color-text-deemphasized: #a3adbe;
    --color-link: #9b90f1;
    --color-link-deemphasized: #b5ace7;
    --color-bg-primary: #0a0f18;
    --color-bg-toggle: #1b2334;
    --color-bg-thumb: #9b90f1;
    --color-border: #2a3346;
    --color-placeholder-bg-start: #131a2a;
    --color-placeholder-bg-end: #0a0f17;
    --color-surface: #111827;
    --color-surface-2: #172235;
    --color-bg-glow-1: rgba(82, 184, 212, 0.22);
    --color-bg-glow-2: rgba(120, 118, 200, 0.16);
    --color-selection-bg: #27465f;
    --color-selection-text: #f0f4ff;
    --color-grid: rgba(124, 201, 228, 0.045);
    --color-grid-strong: rgba(124, 201, 228, 0.07);
    --color-hex-highlight: rgba(124, 201, 228, 0.16);
    --color-glow: rgba(124, 201, 228, 0.35);
    --color-glow-shadow: rgba(124, 201, 228, 0.25);
}

html {
    height: 100%;
}

nextjs-portal {
    display: contents;
    pointer-events: none;
}

nextjs-portal > * {
    pointer-events: auto;
}

body {
    background: var(--color-bg-primary);
    background-image: radial-gradient(1200px 600px at 12% -10%, var(--color-bg-glow-1), transparent),
    radial-gradient(900px 500px at 100% 0%, var(--color-bg-glow-2), transparent);
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
    color: var(--color-text-primary);
    padding: 0;
    margin: 0;
    font-family: var(--font-body);
    line-height: 1.6;
    font-size: 18px;
    transition: background 0.25s ease-in-out;
    min-height: 100%;
    position: relative;
    isolation: isolate;
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background-image:
        repeating-linear-gradient(60deg, var(--color-grid-strong) 0 1px, transparent 1px 48px),
        repeating-linear-gradient(120deg, var(--color-grid-strong) 0 1px, transparent 1px 48px),
        repeating-linear-gradient(0deg, var(--color-grid) 0 1px, transparent 1px 48px);
    opacity: 0.28;
}

#__next {
    position: relative;
    z-index: 1;
}

.glowable {
    position: relative;
    isolation: isolate;
    overflow: hidden;
    transition: border-color 0.35s ease;
}

.glowable::after {
    content: "";
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: inherit;
    background: radial-gradient(120px 120px at var(--glow-x, 50%) var(--glow-y, 50%), var(--color-glow), transparent 65%);
    opacity: 0;
    transition: opacity 0.35s ease, transform 0.35s ease;
    pointer-events: none;
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    transform: scale(0.98);
}

.glowable:hover::after {
    opacity: 1;
    transform: scale(1);
}

.glowable:hover {
    border-color: var(--color-glow-shadow);
}

html[data-reveal-ready="true"] [data-reveal="true"] {
    opacity: var(--reveal-progress, 1);
    transform: translateY(calc((1 - var(--reveal-progress, 1)) * 16px))
        scale(calc(0.98 + (var(--reveal-progress, 1) * 0.02)));
    transition: opacity 0.4s ease, transform 0.4s ease;
    will-change: opacity, transform;
}

@media (prefers-reduced-motion: reduce) {
    html[data-reveal-ready="true"] [data-reveal="true"] {
        transition: none;
        transform: none;
    }
}

h1, h2, h3, h4, h5, h6 {
    color: var(--color-text-secondary);
    font-family: var(--font-display);
    letter-spacing: -0.02em;
}

* {
    box-sizing: border-box;
}

a {
    color: var(--color-link);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

a:visited {
    color: var(--color-link);
}

::selection {
    background: var(--color-selection-bg);
    color: var(--color-selection-text);
}

::-moz-selection {
    background: var(--color-selection-bg);
    color: var(--color-selection-text);
}

img {
    max-width: 100%;
    display: block;
}

code, pre, kbd, samp {
    font-family: var(--font-mono);
}

.hljs {
    font-size: 14px;
}

hr {
    border-color: var(--color-border);
}

.toc {
    margin: 8px 0;
    border: 1px solid var(--color-border);
}
